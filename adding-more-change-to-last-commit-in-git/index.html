<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=fa dir=rtl><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>اضافه کردن تغییرات بیشتر در git به کامیت قبلی - تک ویت امید</title><meta name=theme-color><meta name=description content="امروز داشتم کار میکردم که تغییرات رو توی git کامیت کردم و دوباره یکسری تغییرات ایجاد کردم که خواستم روی کامیت قبلی بره و نمیخواستم یه کامیت دیگه بزنم برای همین یه سرچ زدم و برام جالب بود که git این قابلیت رو هم داره. همینطور که لینوس توروالدز توسعه دهنده git میگه حتی خودمم کامل git رو بلد نیستم.
برای اینکار لازم نیست که کار خیلی پیچیده‌ای انجام بدید. فقط کافیه که تغییراتی که لازم دارید رو انجام بدید و وقتی که میخواید کامیت کنید، از یکی دو فلگ اضافه‌تر استفاده می‌کنید که این پایین براتون توضیح میدم که چی به چیه."><meta name=author content="امید"><link rel="preload stylesheet" as=style href=https://omidmamadi.github.io/main.min.css><script defer src=https://omidmamadi.github.io/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://omidmamadi.github.io/theme.png><link rel=preload as=image href="https://www.gravatar.com/avatar/c91481ab331f5bbd77616e951c2e3cd8?s=160&d=identicon"><link rel=preload as=image href=https://omidmamadi.github.io/github.svg><link rel=preload as=image href=https://omidmamadi.github.io/instagram.svg><link rel=icon href=https://omidmamadi.github.io/favicon.ico><link rel=apple-touch-icon href=https://omidmamadi.github.io/apple-touch-icon.png><meta name=generator content="Hugo 0.108.0"><meta property="og:title" content="اضافه کردن تغییرات بیشتر در git به کامیت قبلی"><meta property="og:description" content="امروز داشتم کار میکردم که تغییرات رو توی git کامیت کردم و دوباره یکسری تغییرات ایجاد کردم که خواستم روی کامیت قبلی بره و نمیخواستم یه کامیت دیگه بزنم برای همین یه سرچ زدم و برام جالب بود که git این قابلیت رو هم داره. همینطور که لینوس توروالدز توسعه دهنده git میگه حتی خودمم کامل git رو بلد نیستم.
برای اینکار لازم نیست که کار خیلی پیچیده‌ای انجام بدید. فقط کافیه که تغییراتی که لازم دارید رو انجام بدید و وقتی که میخواید کامیت کنید، از یکی دو فلگ اضافه‌تر استفاده می‌کنید که این پایین براتون توضیح میدم که چی به چیه."><meta property="og:type" content="article"><meta property="og:url" content="https://omidmamadi.github.io/adding-more-change-to-last-commit-in-git/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-07-09T19:46:39+00:00"><meta property="article:modified_time" content="2022-07-09T19:46:39+00:00"><meta itemprop=name content="اضافه کردن تغییرات بیشتر در git به کامیت قبلی"><meta itemprop=description content="امروز داشتم کار میکردم که تغییرات رو توی git کامیت کردم و دوباره یکسری تغییرات ایجاد کردم که خواستم روی کامیت قبلی بره و نمیخواستم یه کامیت دیگه بزنم برای همین یه سرچ زدم و برام جالب بود که git این قابلیت رو هم داره. همینطور که لینوس توروالدز توسعه دهنده git میگه حتی خودمم کامل git رو بلد نیستم.
برای اینکار لازم نیست که کار خیلی پیچیده‌ای انجام بدید. فقط کافیه که تغییراتی که لازم دارید رو انجام بدید و وقتی که میخواید کامیت کنید، از یکی دو فلگ اضافه‌تر استفاده می‌کنید که این پایین براتون توضیح میدم که چی به چیه."><meta itemprop=datePublished content="2022-07-09T19:46:39+00:00"><meta itemprop=dateModified content="2022-07-09T19:46:39+00:00"><meta itemprop=wordCount content="509"><meta itemprop=keywords content="git,گیتهاب,"><meta name=twitter:card content="summary"><meta name=twitter:title content="اضافه کردن تغییرات بیشتر در git به کامیت قبلی"><meta name=twitter:description content="امروز داشتم کار میکردم که تغییرات رو توی git کامیت کردم و دوباره یکسری تغییرات ایجاد کردم که خواستم روی کامیت قبلی بره و نمیخواستم یه کامیت دیگه بزنم برای همین یه سرچ زدم و برام جالب بود که git این قابلیت رو هم داره. همینطور که لینوس توروالدز توسعه دهنده git میگه حتی خودمم کامل git رو بلد نیستم.
برای اینکار لازم نیست که کار خیلی پیچیده‌ای انجام بدید. فقط کافیه که تغییراتی که لازم دارید رو انجام بدید و وقتی که میخواید کامیت کنید، از یکی دو فلگ اضافه‌تر استفاده می‌کنید که این پایین براتون توضیح میدم که چی به چیه."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center" dir=ltr><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/techwithomid target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/techwithomid target=_blank></a></nav><nav class="ml-6 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/contact/>تماس با من</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/about/>درباره‌من</a></nav></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a><div class="relative z-50 ml-auto flex items-center"><a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"></a>
<a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold ml-6" href=https://omidmamadi.github.io/>تک ویت امید</a></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">اضافه کردن تغییرات بیشتر در git به کامیت قبلی</h1><div class="text-sm opacity-60"><time>9 ژوئیهٔ 2022</time>
<span class=mx-1>&#183;</span>
<span>امید</span>
<span class=mx-1>&#183;</span>
<time class="text-sm opacity-60">زمان مطالعه 3 دقیقه</time></div></header><section><p>امروز داشتم کار میکردم که تغییرات رو توی git کامیت کردم و دوباره یکسری تغییرات ایجاد کردم که خواستم روی کامیت قبلی بره و نمیخواستم یه کامیت دیگه بزنم برای همین یه سرچ زدم و برام جالب بود که git این قابلیت رو هم داره. همینطور که <a href=https://fa.wikipedia.org/wiki/%D9%84%DB%8C%D9%86%D9%88%D8%B3_%D8%AA%D9%88%D8%B1%D9%88%D8%A7%D9%84%D8%AF%D8%B2 target=_blank rel="noreferrer noopener">لینوس توروالدز</a> توسعه دهنده git میگه حتی خودمم کامل git رو بلد نیستم.</p><p>برای اینکار لازم نیست که کار خیلی پیچیده‌ای انجام بدید. فقط کافیه که تغییراتی که لازم دارید رو انجام بدید و وقتی که میخواید کامیت کنید، از یکی دو فلگ اضافه‌تر استفاده می‌کنید که این پایین براتون توضیح میدم که چی به چیه.</p><p>سناریو رو اینجوری در نظر میگیریم که داریم رو پروژه کار می‌کنیم و کامیت هامون به شکل زیره(کامیت های قدیمی‌تر بالاتر قرار دارن):</p><pre class=wp-block-code><code>f7f3f6d create file_a class and methods
310154e improve SomeOtherClass code
a5f4a0d update changelog file</code></pre><p>ولی ما یادمون رفته که یه خطی رو به کامیت آخر، یعنی این کامیت a5f4a0d انجام اضافه کنیم. راه حل اولی که به ذهن خودم رسید این بود که تغییراتی که لازم بود انجام بدم و یادم رفته بود رو اضافه کنم و یه کامیت جدید بزنم که کار جالبی نبود. و کامیت هامون به شکل زیر در میومد:</p><pre class=wp-block-code><code>f7f3f6d create file_a class and methods
310154e improve SomeOtherClass code
a5f4a0d update changelog file
a4gx124 add missing line to changelog</code></pre><p>تغییرات دوتا کامیت آخر در واقع یکیه و ممکنه در طولانی مدت یادتون بده و بگید اینجا چیکار کردم بجای این میتونید از دستور <strong>amend</strong> توی git استفاده کنید.</p><h2 id=مقدمات-دستور-git-amend>مقدمات دستور git amend</h2><p>اول از همه فایلی که میخوایم تغییر بدیم رو به git اضافه می‌کنیم:</p><pre class=wp-block-code><code>git add changelog.md</code></pre><p>و بعد از اون amendش می‌کنیم:</p><pre class=wp-block-code><code>git commit --amend</code></pre><p>بعد از اینکه این دستور رو اجرا کردید فایلی شبیه به فایل زیر براتون توی ویم یا ادیتور که خودتون انتخاب کردید باز میشه:</p><pre class=wp-block-code><code>update changelog file
# Please enter the commit message for your changes. Lines starting
# with ‘#’ will be ignored, and an empty message aborts the commit.
#
# Author: John Doe &lt;john@doe.com&gt;
# Date: Thu Apr 21 22:40:30 2016 -0300
#
# On branch some_branch
# Your branch is up-to-date with ‘origin/some_branch’.
#
# Changes to be committed:
# modified: changelog.md</code></pre><p>اینجا میتونید یسری تغییرات بدید و message کامیت خودتون رو تغییر بدید و اگه نخواستید فایل رو سیو کنید و خارج بشید.</p><p>ولی اگه نمیخواید message کامیت رو عوض کنید دیگه لازم نیست فایل رو باز کنید و ذخیره کنید و خارج بشید، کافیه فقط دستور زیر رو کپی کنید:</p><pre class=wp-block-code><code>git commit --amend --no-edit</code></pre><p>و تمام.</p><h2 id=پوش-کردن-کامیت-amend>پوش کردن کامیت amend</h2><p>اگه کامیت قبلی رو پوش نکرده باشید خیلی سادست لازم نیست کار اضافه‌ای رو انجام بدید فقط پوش کنید. اما اگه کامیت قبلی رو پوش کردید، یعنی این کامیت a5f4a0d و از اونجایی که کامیت رو تغییر دادید باید از فلگ -f استفاده کنید.</p><pre class=wp-block-code><code>git push -f origin main</code></pre><h2 id=تغییر-دادن-message-کامیت>تغییر دادن message کامیت</h2><p>کار ساده‌ای کافیه از روش زیر استفاده کنید.</p><pre class=wp-block-code><code>git commit --amend -m "Your new commit message"</code></pre><p>اگه می‌خواید بیشتر درمورد git amend بخونید میتونید سری به داکیومنت خود <a href=https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History>گیت</a> در این مورد بزنید.</p></section><div class="related-content mt-24"><h3>پست‌های مرتبط</h3><ul><li><a href=/ssh-key-for-github/>استفاده از کلید SSH برای گیتهاب</a><br></li><li><a href=/gitignore-file-for-django-projects/>فایل gitignore برای پروژه های جنگو</a><br></li><li><a href=/make-markdown-rtl/>راستچین کردن markdown</a><br></li></ul></div><footer class="mt-12 flex flex-wrap"><a class="mr-1.5 mb-1.5 rounded-lg bg-black/[3%] px-5 py-2 no-underline dark:bg-white/[8%]" href=https://omidmamadi.github.io/tags/git>git</a>
<a class="mr-1.5 mb-1.5 rounded-lg bg-black/[3%] px-5 py-2 no-underline dark:bg-white/[8%]" href=https://omidmamadi.github.io/tags/%DA%AF%DB%8C%D8%AA%D9%87%D8%A7%D8%A8>گیتهاب</a></footer><nav class="flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]"><a class="flex w-1/2 items-center p-6 pr-3 no-underline" href=https://omidmamadi.github.io/enable-tap-to-touch-in-i3/><span class=ml-1.5>→</span><span>فعال کردن قابلیت tap to touch در i3</span></a>
<a class="ml-auto flex w-1/2 items-center justify-end p-6 pl-3 no-underline" href=https://omidmamadi.github.io/carbon-programming-language/><span>زبان برنامه نویسی Carbon – اخبار تکنولوژی</span><span class=mr-1.5>←</span></a></nav><div class=mt-5 id=graphcomment></div><script type=text/javascript>var __semio__params={graphcommentId:"techwithomid",behaviour:{}};function __semio__onload(){__semio__gc_graphlogin(__semio__params)}(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.onload=__semio__onload,e.defer=!0,e.src="https://integration.graphcomment.com/gc_graphlogin.js?"+Date.now(),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>با افتخار قدرت گرفته از Hugo</a>️<div class=mr-auto>&copy; 2026
<a class=link href=https://omidmamadi.github.io/>تک ویت امید</a></div></footer></body></html>